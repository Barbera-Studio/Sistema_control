{% load static %}
<div class="relative">
  <!-- Halo volumÃ©trico detrÃ¡s de la tarjeta -->
  <div class="pointer-events-none absolute -inset-6 rounded-3xl blur-2xl"
       style="background:
         radial-gradient(60% 80% at 20% 20%, rgba(34,211,238,.22), transparent 70%),
         radial-gradient(70% 60% at 80% 60%, rgba(124,58,237,.20), transparent 70%);">
  </div>

  <!-- Borde animado iridiscente -->
  <div class="pointer-events-none absolute -inset-[2px] rounded-3xl opacity-80 animate-[hue_16s_linear_infinite]"
       style="padding:2px; background:
         linear-gradient(135deg, rgba(34,211,238,.7), rgba(37,99,235,.6), rgba(124,58,237,.7));
         -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
         -webkit-mask-composite: xor; mask-composite: exclude;"></div>

  <!-- Card principal: glass hologrÃ¡fico -->
  <section class="relative rounded-3xl border border-cyan-400/30
                  bg-[#0b1425]/70 backdrop-blur-2xl
                  shadow-[0_20px_60px_rgba(0,0,0,.65),inset_0_0_28px_rgba(34,211,238,.10)]
                  p-6 sm:p-7">
    <!-- Header: tÃ­tulo con gradiente cinÃ©tico -->
    <div class="text-center space-y-2">
      <h2 class="text-transparent bg-clip-text
                 bg-gradient-to-r from-cyan-300 via-blue-400 to-purple-400
                 font-black tracking-[0.08em] text-[1.35rem] sm:text-[1.55rem]
                 drop-shadow-[0_0_16px_rgba(34,211,238,.35)]">
        ðŸ§¬ Acceso CuÃ¡ntico
      </h2>
      <p class="text-[11px] sm:text-xs uppercase tracking-[0.22em] text-cyan-200/80">
        AutenticaciÃ³n Multiversal â€” Nivel Omega
      </p>
    </div>

    {% if error %}
      <div class="mt-3 text-center text-red-400 font-semibold text-sm animate-pulse">
        {{ error }}
      </div>
    {% endif %}

    <!-- Formulario -->
    <form method="POST" action="{% url 'usuarios:login' %}" class="mt-6 space-y-4" novalidate>
      {% csrf_token %}

      <!-- Campo: usuario -->
      <div class="relative group">
        <span class="absolute left-3 top-1/2 -translate-y-1/2 text-cyan-300 select-none">ðŸ‘¤</span>
        <input type="text" name="username" placeholder="Identificador oficial"
               autocomplete="username" required
               class="peer w-full pl-10 pr-3 py-3 rounded-2xl
                      bg-[#0a1527]/85 border border-cyan-500/30 text-white
                      placeholder-cyan-200/40 shadow-inner
                      focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-cyan-300
                      transition-all duration-300" />
        <!-- Glow reactivo -->
        <div class="pointer-events-none absolute -inset-[1px] rounded-2xl opacity-0
                    peer-focus:opacity-100 transition
                    ring-1 ring-cyan-400/30"></div>
      </div>

      <!-- Campo: password -->
      <div class="relative group">
        <span class="absolute left-3 top-1/2 -translate-y-1/2 text-cyan-300 select-none">ðŸ”’</span>
        <input type="password" name="password" placeholder="Clave de acceso"
               autocomplete="current-password" required
               class="peer w-full pl-10 pr-3 py-3 rounded-2xl
                      bg-[#0a1527]/85 border border-cyan-500/30 text-white
                      placeholder-cyan-200/40 shadow-inner
                      focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-cyan-300
                      transition-all duration-300" />
        <div class="pointer-events-none absolute -inset-[1px] rounded-2xl opacity-0
                    peer-focus:opacity-100 transition
                    ring-1 ring-cyan-400/30"></div>
      </div>

      <!-- BotÃ³n: gradiente orbital con microinteracciÃ³n -->
      <button type="submit" aria-label="Iniciar sesiÃ³n"
              class="w-full py-3 rounded-2xl font-extrabold text-white tracking-wide
                     bg-gradient-to-r from-cyan-500 via-blue-600 to-purple-600
                     bg-[length:200%_200%] animate-[bgMove_7s_linear_infinite]
                     shadow-[0_12px_30px_rgba(37,99,235,.45),0_0_24px_rgba(34,211,238,.35)]
                     hover:shadow-[0_16px_40px_rgba(37,99,235,.55),0_0_34px_rgba(34,211,238,.45)]
                     transition-transform duration-300 hover:scale-[1.02] active:scale-[.995]">
        ðŸš€ Iniciar sesiÃ³n
      </button>
    </form>

    <!-- Recovery -->
    <div class="mt-5 text-center">
      <a href="{% url 'usuarios:recuperar_acceso' %}"
         class="relative inline-block text-cyan-300 font-semibold text-sm
                after:absolute after:left-0 after:-bottom-1 after:h-[2px] after:w-0 after:bg-cyan-300
                after:shadow-[0_0_10px_rgba(34,211,238,.6)]
                after:transition-all after:duration-300 hover:after:w-full">
        Â¿Olvidaste tu acceso? Recuperar credenciales
      </a>
    </div>

    <!-- Nota contextual -->
    <p class="mt-2 text-center text-[11px] text-cyan-200/60">
      IdentifÃ­cate con tu nombre en Ã­ndice hologrÃ¡fico.
    </p>

    <!-- Orbes decorativos internos (sin impacto de rendimiento) -->
    <div class="pointer-events-none absolute -top-6 -right-5 w-24 h-24 rounded-full
                bg-gradient-to-br from-cyan-500/30 to-purple-600/25 blur-xl"></div>
    <div class="pointer-events-none absolute -bottom-6 -left-5 w-20 h-20 rounded-full
                bg-gradient-to-tr from-blue-500/25 to-cyan-500/25 blur-xl"></div>
  </section>
</div>

<style>
@keyframes bgMove {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}
@keyframes hue {
  0% { filter: hue-rotate(0deg); }
  100% { filter: hue-rotate(360deg); }
}
@media (prefers-reduced-motion: reduce) {
  .animate-

\[bgMove_7s_linear_infinite\]

, .animate-

\[hue_16s_linear_infinite\]

 { animation: none !important; }
}
</style>
